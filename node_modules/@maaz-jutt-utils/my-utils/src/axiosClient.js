import axios from 'axios';

/**
 * Create Axios client with custom base URL
 * @param {string} baseURL - Base URL of the API
 * @param {object} headers - Optional headers to set
 * @returns {AxiosInstance} - Configured axios instance
 */
export const createApiClient = (baseURL, headers = {}) => {
  const clientApi = axios.create({
    baseURL,
    timeout: 5000, // optional: 5 seconds timeout
    headers: {
      'Content-Type': 'application/json',
      ...headers, // merge any custom headers
    },
  });

  // Optional: Interceptors for logging or token handling
  clientApi.interceptors.request.use((config) => {
    console.log(`[API Request] ${config.method.toUpperCase()} ${config.url}`);
    return config;
  });

  clientApi.interceptors.response.use(
    (response) => response,
    (error) => {
      console.error('[API Error]', error.message);
      return Promise.reject(error);
    }
  );

  return clientApi;
};
